# -*- coding: utf-8 -*-
# -----------------------------------------------------------------------------
# Imports
# -----------------------------------------------------------------------------
from subprocess import call
from os.path    import dirname
from os.path    import abspath
from platform   import system
# -----------------------------------------------------------------------------
# program path 
# -----------------------------------------------------------------------------
def program():
    if system() == 'Windows':
        return abspath('%s/MergeXml.exe'%(dirname(__file__)))
    return abspath('%s/MergeXml'%(dirname(__file__)))
# -----------------------------------------------------------------------------
# format
# -----------------------------------------------------------------------------
def format(file, type):
    return call([program(), 
        '-m', 'normalize',
        '-l', 'ERROR',
        '-i', file,
        '-f', type
    ])
# -----------------------------------------------------------------------------
# minimize
# -----------------------------------------------------------------------------
def minimize(current, base, other, type):
    return call([program(), 
        '-m', 'minimize',
        '-l', 'ERROR',
        '-i', current,
        '-i', base,
        '-i', other,
        '-f', type
    ])
# -----------------------------------------------------------------------------
# end
# -----------------------------------------------------------------------------